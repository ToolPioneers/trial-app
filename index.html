<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dynamic Widget Loader</title>
</head>
<body>
  <h1>Load Widget by Agent ID</h1>

  <input type="text" id="agentInput" placeholder="Enter Agent ID" />
  <button onclick="loadWidget()">Load Widget</button>

  <script>
    function loadWidget() {
      const agentId = document.getElementById('agentInput').value.trim();
      if (!agentId) {
        alert("Please enter a valid Agent ID");
        return;
      }

      // Prevent loading multiple times
      if (document.getElementById('widgetScript')) {
        document.getElementById('widgetScript').remove();
      }

      const script = document.createElement('script');
      script.src = `https://reditool.com/widget/index.js?agent=${encodeURIComponent(agentId)}`;
      script.id = 'widgetScript';
      document.body.appendChild(script);
    }
  </script>
</body>
</html>
